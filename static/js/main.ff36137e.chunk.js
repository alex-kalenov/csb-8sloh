(this["webpackJsonpjphappy-new-year"]=this["webpackJsonpjphappy-new-year"]||[]).push([[0],[,,,,function(e,t,n){e.exports={wrapper:"AddWish_wrapper__2ywDg",wishForm:"AddWish_wishForm__3I9ji",disabled:"AddWish_disabled__3d-_l"}},function(e,t,n){e.exports={item:"Wish_item__3DoGd",inner:"Wish_inner__1-Dh0",front:"Wish_front__1__T_",back:"Wish_back__2YPNq"}},,function(e,t,n){e.exports={wishes:"Wishes_wishes__1RaPy",card:"Wishes_card__C35_E"}},function(e,t,n){e.exports={authForm:"AuthForm_authForm__3visd"}},function(e,t,n){e.exports={container:"AutoFontSize_container__1PkjC"}},function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__2Kyqv"}},function(e,t,n){e.exports={timer:"Timer_timer__dt39z"}},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(3),s=n.n(c),a=n(2),r=n(1),i=n.n(r),o=n(0);function j(e,t){return e.time>t.time?-1:e.time<t.time?1:0}var l=i.a.createContext({wishes:[],sortAndSetWishes:function(e){},addWish:function(e){}}),d=function(e){var t=Object(r.useState)([]),n=Object(a.a)(t,2),c=n[0],s=n[1],i=Object(r.useCallback)((function(e){var t=e.sort(j);s(t)}),[]),d={wishes:c,sortAndSetWishes:i,addWish:Object(r.useCallback)((function(e){s((function(t){var n=t.concat(e);return n.sort(j),n}))}),[])};return Object(o.jsx)(l.Provider,{value:d,children:e.children})},u=l,b=i.a.createContext({key:"",setKey:function(e){}}),h=function(e){var t=Object(r.useState)(""),n=Object(a.a)(t,2),c={key:n[0],setKey:n[1]};return Object(o.jsx)(b.Provider,{value:c,children:e.children})},f=b,O=(n(18),n(8)),m=n.n(O),x=function(){var e=Object(r.useRef)(),t=Object(r.useContext)(f);return Object(o.jsxs)("form",{className:m.a.authForm,onSubmit:function(n){n.preventDefault(),t.setKey(e.current.value)},children:[Object(o.jsx)("input",{type:"text",id:"key",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c...",ref:e}),Object(o.jsx)("button",{type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},p=n(12),v=n(4),w=n.n(v),_="https://react-http-d6323-default-rtdb.firebaseio.com",N=["#c90404","#2506c2","#00a811"],y=["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"],g=(n(19),function(){return Object(o.jsx)("div",{className:"wrapper",children:Object(o.jsx)("div",{className:"thread",children:Object(o.jsx)("img",{src:"https://media.discordapp.net/attachments/881456016775057438/933365326110928956/image.png",className:"ball",alt:"ball"})})})}),k=(n(20),function(){return Object(o.jsx)("img",{className:"tracey",src:"https://media.discordapp.net/attachments/802619313466507274/933290558657552424/tracer323.png",alt:"Tracey"})}),S=function(e){var t=Object(r.useState)(!1),n=Object(a.a)(t,2),c=n[0],s=n[1],i=Object(r.useContext)(u),j=Object(r.useContext)(f),l=Object(r.useRef)(),d=Object(r.useRef)(),b=c?w.a.disabled:"";return Object(o.jsx)("div",{className:w.a.wrapper,children:Object(o.jsxs)("div",{className:w.a.formWrapper,children:[Object(o.jsx)(g,{}),Object(o.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!c){var t=l.current.value,n=d.current.value;if(t.length&&n){s(!0);var a=(new Date).getTime();fetch(_+"/"+j.key+".json",{method:"POST",headers:{ContentType:"application/json"},body:JSON.stringify({name:t,text:n,time:a})}).then((function(e){if(!e.ok)throw new Error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");return e.json()})).then((function(e){s(!1),i.addWish({id:e.name,name:t,text:n,time:a})})).catch((function(e){s(!1),alert(e.message)}))}else alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438 \u043e\u0431\u0430 \u043f\u043e\u043b\u044f, \u0447\u0451 \u0442\u044b \u043a\u0430\u043a \u044d\u0442\u043e\u0442...")}},className:w.a.wishForm,children:[Object(o.jsx)("label",{htmlFor:"name",children:"\u041e\u0442 \u043a\u043e\u0433\u043e "}),Object(o.jsx)("input",{type:"text",id:"name",ref:l}),Object(o.jsx)("label",{htmlFor:"wish",children:"\u041f\u043e\u0436\u0435\u043b\u0430\u043d\u0438\u0435 "}),Object(o.jsx)("textarea",{id:"wish",rows:"5",ref:d}),Object(o.jsx)("button",{type:"submit",className:b,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),Object(o.jsx)(k,{})]})})},W=n(9),C=n.n(W),D=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),c=Object(r.useState)(28),i=Object(a.a)(c,2),j=i[0],l=i[1],d=Object(r.useState)(0),u=Object(a.a)(d,2),b=u[0],h=u[1];return Object(r.useEffect)((function(){var e=parseInt(window.getComputedStyle(s.a.findDOMNode(n.current)).getPropertyValue("height"),10);parseInt(window.getComputedStyle(s.a.findDOMNode(t.current)).getPropertyValue("height"),10)>e-20?l((function(e){return e-1})):h(1)}),[j]),Object(o.jsx)("div",{className:C.a.container,ref:n,children:Object(o.jsx)("p",{style:{fontSize:j,opacity:b},ref:t,children:e.children})})},F=n(5),M=n.n(F),A=function(e){var t=new Date(e.time),n=y[t.getMonth()],c=t.getDate(),s=t.getHours(),a=s<10?"0"+s:s,r=t.getMinutes(),i=r<10?"0"+r:r,j=t.getFullYear();return Object(o.jsx)("div",{className:M.a.item,children:Object(o.jsxs)("div",{className:M.a.inner,children:[Object(o.jsx)("div",{className:M.a.front,children:Object(o.jsx)(D,{children:e.text})}),Object(o.jsx)("div",{className:M.a.back,style:{backgroundColor:e.color},children:Object(o.jsxs)("p",{children:[e.name,Object(o.jsxs)("span",{children:["".concat(c," ").concat(n," ").concat(j),Object(o.jsx)("br",{}),"".concat(a,":").concat(i)]})]})})]})})},P=n(7),T=n.n(P);var E=function(e){var t=Object(r.useContext)(u).wishes.map((function(e){var t,n=N[(t=3,Math.floor(Math.random()*t))];return Object(o.jsx)("div",{className:"col-xl-4 col-lg-6 col-12 ".concat(T.a.card),children:Object(o.jsx)(A,{name:e.name,text:e.text,color:n,time:e.time})},e.id)}));return Object(o.jsx)("div",{className:"row ".concat(T.a.wishes),children:t})},R=n(10),I=n.n(R),J=function(){return Object(o.jsx)("div",{className:I.a.spinner})},K=(n(21),function(e){return Object(o.jsxs)("div",{className:"snowflakes","aria-hidden":"true",children:[Object(o.jsx)("div",{className:"snowflake",children:"\u2745"}),Object(o.jsx)("div",{className:"snowflake",children:"\u2745"}),Object(o.jsx)("div",{className:"snowflake",children:"\u2746"}),Object(o.jsx)("div",{className:"snowflake",children:"\u2744"}),Object(o.jsx)("div",{className:"snowflake",children:"\u2745"}),Object(o.jsx)("div",{className:"snowflake",children:"\u2746"}),Object(o.jsx)("div",{className:"snowflake",children:"\u2744"}),Object(o.jsx)("div",{className:"snowflake",children:"\u2745"}),Object(o.jsx)("div",{className:"snowflake",children:"\u2746"}),Object(o.jsx)("div",{className:"snowflake",children:"\u2744"}),Object(o.jsx)("div",{children:e.children})]})}),z=n(11),q=n.n(z),V=function(){var e=Object(r.useState)(new Date),t=Object(a.a)(e,2),n=t[0],c=t[1],s=new Date("Jan 1, 2023 00:00:00").getTime()-n.getTime(),i=Math.floor(s/2629743e3),j=Math.floor(s%2629743e3/864e5),l=Math.floor(s%864e5/36e5),d=Math.floor(s%36e5/6e4),u=Math.floor(s%6e4/1e3);Object(r.useEffect)((function(){setInterval((function(){c(new Date)}),[1e3])}),[]);var b="\u0414\u043e \u041d\u043e\u0432\u043e\u0433\u043e \u0413\u043e\u0434\u0430 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ";return b+=i?"".concat(i," \u043c\u0435\u0441\u044f\u0446\u0435\u0432 "):"",b+=i||j?"".concat(j," \u0434\u043d\u0435\u0439 "):"",b+=i||j||l?"".concat(l," \u0447\u0430\u0441\u043e\u0432 "):"",b+=i||j||l||d?"".concat(d," \u043c\u0438\u043d\u0443\u0442 "):"",b+="".concat(u," \u0441\u0435\u043a\u0443\u043d\u0434 "),u<0&&(b="\u041d\u043e\u0432\u044b\u0439 \u0413\u043e\u0434 \u043d\u0430\u0441\u0442\u0443\u043f\u0438\u043b!"),Object(o.jsx)("div",{className:q.a.timer,children:Object(o.jsx)("span",{children:b})})},Y=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(!0),i=Object(a.a)(s,2),j=i[0],l=i[1],d=Object(r.useContext)(u),b=Object(r.useContext)(f);return Object(r.useEffect)((function(){j&&fetch(_+"/"+b.key+".json").then((function(e){if(!e.ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u043b\u0438\u0431\u043e \u0432\u0432\u0435\u0434\u0451\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c. \u0427\u0442\u043e\u0431\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0435\u0433\u043e \u0441\u043d\u043e\u0432\u0430, \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443");return e.json()})).then((function(e){var t=[];for(var n in e){var c=Object(p.a)({id:n},e[n]);t.push(c)}l(!1),d.sortAndSetWishes(t)})).catch((function(e){l(!1),c(e.message)}))}),[b.key,d,j,l,c]),j?Object(o.jsx)("div",{className:"centerOfWindow",children:Object(o.jsx)(J,{})}):""!==n?Object(o.jsx)("div",{className:"centerOfWindow",children:Object(o.jsx)("div",{className:"error",children:n})}):Object(o.jsxs)(r.Fragment,{children:[Object(o.jsx)(K,{}),Object(o.jsx)(V,{}),Object(o.jsx)(S,{}),Object(o.jsx)(E,{})]})};function B(){var e=""!==Object(r.useContext)(f).key;return Object(o.jsxs)(r.Fragment,{children:[!e&&Object(o.jsx)(x,{}),e&&Object(o.jsx)(Y,{})]})}var G=document.getElementById("root");s.a.render(Object(o.jsx)(h,{children:Object(o.jsx)(d,{children:Object(o.jsx)(B,{})})}),G)}],[[22,1,2]]]);
//# sourceMappingURL=main.ff36137e.chunk.js.map
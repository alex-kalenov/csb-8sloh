{"version":3,"sources":["components/Wishes/Wish.module.css","components/Wishes/Wishes.module.css","components/AddWish/AddWish.module.css","components/UI/AutoFontSize.module.css","store/wishes-context.js","components/AddWish/AddWish.js","components/UI/AutoFontSize.js","components/Wishes/Wish.js","components/Wishes/Wishes.js","components/Snow.js","App.js","index.js"],"names":["module","exports","compare","a","b","id","WishesContext","React","createContext","wishes","addWish","wish","WishesContextProvider","props","useState","setWishes","useEffect","fetch","FIREBASE_DOMAIN","then","res","json","data","tempWishes","key","wishData","push","wishesValue","sort","console","log","state","concat","Provider","value","children","AutoFontSize","textRef","useRef","containerRef","fontSize","setFontSize","show","setShow","containerHeight","parseInt","window","getComputedStyle","ReactDOM","findDOMNode","current","getPropertyValue","className","styles","container","ref","style","opacity","Wish","item","inner","front","text","back","backgroundColor","color","name","Wishes","useContext","map","card","Snow","App","rootElement","document","getElementById","render"],"mappings":"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","file":"static/js/main.c0a59f76.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Wish_item__3DoGd\",\"inner\":\"Wish_inner__1-Dh0\",\"front\":\"Wish_front__1__T_\",\"back\":\"Wish_back__2YPNq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wishes\":\"Wishes_wishes__1RaPy\",\"card\":\"Wishes_card__C35_E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wishForm\":\"AddWish_wishForm__3I9ji\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AutoFontSize_container__1PkjC\"};","import React, { useState, useEffect } from \"react\";\r\n\r\nconst FIREBASE_DOMAIN = \"https://react-http-d6323-default-rtdb.firebaseio.com\";\r\n\r\nfunction compare(a, b) {\r\n  if (a.id > b.id) {\r\n    return -1;\r\n  }\r\n  if (a.id < b.id) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nconst WishesContext = React.createContext({\r\n  wishes: [],\r\n  addWish: (wish) => {}\r\n});\r\n\r\nexport const WishesContextProvider = (props) => {\r\n  const [wishes, setWishes] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(FIREBASE_DOMAIN + \"/wishes.json\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        let tempWishes = [];\r\n        for (const key in data) {\r\n          const wishData = {\r\n            id: key,\r\n            ...data[key]\r\n          };\r\n\r\n          tempWishes.push(wishData);\r\n        }\r\n        setWishes(tempWishes);\r\n      });\r\n  }, []);\r\n\r\n  const sortedWishes = wishes.sort(compare);\r\n\r\n  const addWish = (wish) => {\r\n    console.log(\"addWish evaluated\");\r\n    setWishes((state) => state.concat(wish));\r\n  };\r\n\r\n  const wishesValue = {\r\n    wishes: sortedWishes,\r\n    addWish\r\n  };\r\n\r\n  return (\r\n    <WishesContext.Provider value={wishesValue}>\r\n      {props.children}\r\n    </WishesContext.Provider>\r\n  );\r\n};\r\n\r\nexport default WishesContext;\r\n","import styles from \"./AddWish.module.css\";\r\nimport { useRef, useContext } from \"react\";\r\nimport WishesContext from \"../../store/wishes-context\";\r\n\r\nfunction getRandomInt(max) {\r\n  return Math.floor(Math.random() * max);\r\n}\r\n\r\nconst FIREBASE_DOMAIN = \"https://react-http-d6323-default-rtdb.firebaseio.com\";\r\n\r\nconst colors = [\"#c90404\", \"#2506c2\", \"#00a811\"];\r\n\r\nconst AddWish = () => {\r\n  const wishesContext = useContext(WishesContext);\r\n  const nameRef = useRef();\r\n  const textRef = useRef();\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    const nameValue = nameRef.current.value;\r\n    const textValue = textRef.current.value;\r\n    if (!nameValue.length || !textValue) {\r\n      alert(\"Заполни оба поля, чё ты как этот...\");\r\n      return;\r\n    }\r\n\r\n    const color = colors[getRandomInt(3)];\r\n    fetch(FIREBASE_DOMAIN + \"/wishes.json\", {\r\n      method: \"POST\",\r\n      headers: { ContentType: \"application/json\" },\r\n      body: JSON.stringify({\r\n        name: nameValue,\r\n        text: textValue,\r\n        color\r\n      })\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        wishesContext.addWish({\r\n          id: data.name,\r\n          name: nameValue,\r\n          text: textValue,\r\n          color\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submitHandler} className={styles.wishForm}>\r\n      <label htmlFor=\"name\">От кого </label>\r\n      <input type=\"text\" id=\"name\" ref={nameRef} />\r\n      <label htmlFor=\"wish\">Пожелание </label>\r\n      <textarea id=\"wish\" rows=\"5\" ref={textRef} />\r\n      <button type=\"submit\">Отправить</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddWish;\r\n","import styles from \"./AutoFontSize.module.css\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst AutoFontSize = (props) => {\r\n  const textRef = useRef();\r\n  const containerRef = useRef();\r\n  const [fontSize, setFontSize] = useState(28);\r\n  const [show, setShow] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const containerHeight = parseInt(\r\n      window\r\n        .getComputedStyle(ReactDOM.findDOMNode(containerRef.current))\r\n        .getPropertyValue(\"height\"),\r\n      10\r\n    );\r\n    const textHeight = parseInt(\r\n      window\r\n        .getComputedStyle(ReactDOM.findDOMNode(textRef.current))\r\n        .getPropertyValue(\"height\"),\r\n      10\r\n    );\r\n\r\n    if (textHeight > containerHeight - 20) setFontSize((state) => state - 1);\r\n    else setShow(1);\r\n  }, [fontSize]);\r\n\r\n  return (\r\n    <div className={styles.container} ref={containerRef}>\r\n      <p style={{ fontSize, opacity: show }} ref={textRef}>\r\n        {props.children}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AutoFontSize;\r\n","import AutoFontSize from \"../UI/AutoFontSize\";\r\n\r\nimport styles from \"./Wish.module.css\";\r\n\r\nconst Wish = (props) => {\r\n  return (\r\n    <div className={styles.item}>\r\n      <div className={styles.inner}>\r\n        <div className={styles.front}>\r\n          <AutoFontSize>{props.text}</AutoFontSize>\r\n        </div>\r\n        <div className={styles.back} style={{ backgroundColor: props.color }}>\r\n          <span>{props.name}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wish;\r\n","import Wish from \"./Wish\";\r\nimport styles from \"./Wishes.module.css\";\r\nimport { useContext } from \"react\";\r\nimport WishesContext from \"../../store/wishes-context\";\r\n\r\n// const DUMMY_WISHES = [\r\n//   {\r\n//     id: 1,\r\n//     name: \"Alex\",\r\n//     color: \"#c90404\",\r\n//     // text: \"Happy New Year!\"\r\n//     text:\r\n//       \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\r\n//   },\r\n//   { id: 2, name: \"Tom\", color: \"#2506c2\", text: \"Happy New Year!\" },\r\n//   { id: 3, name: \"Rose\", color: \"#c90404\", text: \"Best wishes\" },\r\n//   { id: 4, name: \"Jack\", color: \"#00a811\", text: \"Good luck\" }\r\n// ];\r\n\r\nconst Wishes = () => {\r\n  const wishesContext = useContext(WishesContext);\r\n  const wishes = wishesContext.wishes.map((item) => (\r\n    <div key={item.id} className={`col-xl-4 col-lg-6 col-12 ${styles.card}`}>\r\n      <Wish name={item.name} text={item.text} color={item.color} />\r\n    </div>\r\n  ));\r\n\r\n  return <div className={`row ${styles.wishes}`}>{wishes}</div>;\r\n};\r\n\r\nexport default Wishes;\r\n","import \"./Snow.css\";\r\n\r\nconst Snow = (props) => {\r\n  return (\r\n    <div className=\"snowflakes\" aria-hidden=\"true\">\r\n      <div className=\"snowflake\">❅</div>\r\n      <div className=\"snowflake\">❅</div>\r\n      <div className=\"snowflake\">❆</div>\r\n      <div className=\"snowflake\">❄</div>\r\n      <div className=\"snowflake\">❅</div>\r\n      <div className=\"snowflake\">❆</div>\r\n      <div className=\"snowflake\">❄</div>\r\n      <div className=\"snowflake\">❅</div>\r\n      <div className=\"snowflake\">❆</div>\r\n      <div className=\"snowflake\">❄</div>\r\n      <div>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Snow;\r\n","import \"./styles.css\";\n\nimport AddWish from \"./components/AddWish/AddWish\";\nimport Wishes from \"./components/Wishes/Wishes\";\nimport Snow from \"./components/Snow\";\n\nexport default function App() {\n  // <div className=\"redirect\">\n  //     <span>\n  //       Сайтик переехал{\" \"}\n  //       <a href=\"https://alex-kalenov.github.io/csb-8sloh/\">сюда</a>\n  //     </span>\n  //   </div>\n  return (\n    <Snow>\n      <Wishes />\n    </Snow>\n  );\n}\n","import ReactDOM from \"react-dom\";\nimport { WishesContextProvider } from \"./store/wishes-context\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <WishesContextProvider>\n    <App />\n  </WishesContextProvider>,\n  rootElement\n);\n"],"sourceRoot":""}
{"version":3,"sources":["components/AddWish/AddWish.module.css","components/Wishes/Wish.module.css","components/Wishes/Wishes.module.css","components/AuthForm/AuthForm.module.css","components/UI/AutoFontSize.module.css","components/UI/LoadingSpinner.module.css","components/Timer/Timer.module.css","store/wishes-context.js","store/auth-context.js","components/AuthForm/AuthForm.js","helpers/data.js","components/Decorations/Ball.js","components/Decorations/Tracey.js","components/AddWish/AddWish.js","components/UI/AutoFontSize.js","components/Wishes/Wish.js","components/Wishes/Wishes.js","helpers/function.js","components/UI/LoadingSpinner.js","components/Decorations/Snow.js","components/Timer/Timer.js","components/Main/Main.js","App.js","index.js"],"names":["module","exports","compare","a","b","time","WishesContext","React","createContext","wishes","sortAndSetWishes","addWish","wish","WishesContextProvider","props","useState","setWishes","useCallback","sortedWishes","sort","wishesValue","state","temp","concat","Provider","value","children","AuthContext","key","setKey","AuthContextProvider","authValue","AuthForm","keyRef","useRef","authCtx","useContext","className","styles","authForm","onSubmit","event","preventDefault","current","type","id","placeholder","ref","FIREBASE_DOMAIN","colors","months","Ball","src","alt","Tracey","AddWish","sending","setSending","wishesContext","nameRef","textRef","buttonClass","disabled","wrapper","formWrapper","nameValue","textValue","length","currentTime","Date","getTime","fetch","method","headers","ContentType","body","JSON","stringify","name","text","then","res","ok","Error","json","data","catch","error","alert","message","wishForm","htmlFor","rows","AutoFontSize","containerRef","fontSize","setFontSize","show","setShow","useEffect","containerHeight","parseInt","window","getComputedStyle","ReactDOM","findDOMNode","getPropertyValue","container","style","opacity","Wish","wishDate","month","getMonth","day","getDate","hours","getHours","formatted_hours","minutes","getMinutes","formatted_minutes","item","inner","front","back","backgroundColor","color","Wishes","map","max","Math","floor","random","card","LoadingSpinner","classes","spinner","Snow","Timer","setTime","dif","dif_month","dif_day","dif_hour","dif_minutes","dif_seconds","setInterval","timer_text","timer","Main","setError","tempWishes","wishData","push","App","keyEntered","rootElement","document","getElementById","render"],"mappings":"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","file":"static/js/main.ff49316e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"AddWish_wrapper__2ywDg\",\"wishForm\":\"AddWish_wishForm__3I9ji\",\"disabled\":\"AddWish_disabled__3d-_l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Wish_item__3DoGd\",\"inner\":\"Wish_inner__1-Dh0\",\"front\":\"Wish_front__1__T_\",\"back\":\"Wish_back__2YPNq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wishes\":\"Wishes_wishes__1RaPy\",\"card\":\"Wishes_card__C35_E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authForm\":\"AuthForm_authForm__3visd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AutoFontSize_container__1PkjC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"LoadingSpinner_spinner__2Kyqv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timer\":\"Timer_timer__dt39z\"};","import React, { useCallback, useState } from \"react\";\r\n\r\nfunction compare(a, b) {\r\n  if (a.time > b.time) {\r\n    return -1;\r\n  }\r\n  if (a.time < b.time) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nconst WishesContext = React.createContext({\r\n  wishes: [],\r\n  sortAndSetWishes: (wishes) => {},\r\n  addWish: (wish) => {}\r\n});\r\n\r\nexport const WishesContextProvider = (props) => {\r\n  const [wishes, setWishes] = useState([]);\r\n\r\n  const sortAndSetWishes = useCallback((wishes) => {\r\n    const sortedWishes = wishes.sort(compare);\r\n    setWishes(sortedWishes);\r\n  }, []);\r\n\r\n  const addWish = useCallback((wish) => {\r\n    setWishes((state) => {\r\n      const temp = state.concat(wish);\r\n      temp.sort(compare);\r\n      return temp;\r\n    });\r\n  }, []);\r\n\r\n  const wishesValue = {\r\n    wishes,\r\n    sortAndSetWishes,\r\n    addWish\r\n  };\r\n  // console.log(wishes);\r\n  return (\r\n    <WishesContext.Provider value={wishesValue}>\r\n      {props.children}\r\n    </WishesContext.Provider>\r\n  );\r\n};\r\n\r\nexport default WishesContext;\r\n","import React, { useState } from \"react\";\r\n\r\nconst AuthContext = React.createContext({\r\n  key: \"\",\r\n  setKey: (value) => {}\r\n});\r\n\r\nexport const AuthContextProvider = (props) => {\r\n  const [key, setKey] = useState(\"\");\r\n\r\n  const authValue = { key, setKey };\r\n\r\n  return (\r\n    <AuthContext.Provider value={authValue}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContext;\r\n","import styles from \"./AuthForm.module.css\";\r\n\r\nimport { useRef, useContext } from \"react\";\r\nimport AuthContext from \"../../store/auth-context\";\r\n\r\nconst AuthForm = () => {\r\n  const keyRef = useRef();\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    authCtx.setKey(keyRef.current.value);\r\n  };\r\n\r\n  return (\r\n    <form className={styles.authForm} onSubmit={submitHandler}>\r\n      <input\r\n        type=\"text\"\r\n        id=\"key\"\r\n        placeholder=\"Введите пароль...\"\r\n        ref={keyRef}\r\n      />\r\n      <button type=\"submit\">Отправить</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","export const FIREBASE_DOMAIN =\r\n  \"https://react-http-d6323-default-rtdb.firebaseio.com\";\r\n\r\nexport const colors = [\"#c90404\", \"#2506c2\", \"#00a811\"];\r\n\r\nexport const months = [\r\n  \"января\",\r\n  \"февраля\",\r\n  \"марта\",\r\n  \"апреля\",\r\n  \"мая\",\r\n  \"июня\",\r\n  \"июля\",\r\n  \"августа\",\r\n  \"сентября\",\r\n  \"октября\",\r\n  \"ноября\",\r\n  \"декабря\"\r\n];\r\n","import \"./Ball.css\";\r\n\r\nconst Ball = () => {\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"thread\">\r\n        <img\r\n          src=\"https://media.discordapp.net/attachments/881456016775057438/933365326110928956/image.png\"\r\n          className=\"ball\"\r\n          alt=\"ball\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ball;\r\n","import \"./Tracey.css\";\r\n\r\nconst Tracey = () => {\r\n  return (\r\n    <img\r\n      className=\"tracey\"\r\n      src=\"https://media.discordapp.net/attachments/802619313466507274/933290558657552424/tracer323.png\"\r\n      alt=\"Tracey\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default Tracey;\r\n","import styles from \"./AddWish.module.css\";\r\nimport { useRef, useContext, useState } from \"react\";\r\nimport WishesContext from \"../../store/wishes-context\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport { FIREBASE_DOMAIN } from \"../../helpers/data\";\r\n\r\nimport Ball from \"../Decorations/Ball\";\r\nimport Tracey from \"../Decorations/Tracey\";\r\n\r\nconst AddWish = (props) => {\r\n  const [sending, setSending] = useState(false);\r\n  const wishesContext = useContext(WishesContext);\r\n  const authCtx = useContext(AuthContext);\r\n  const nameRef = useRef();\r\n  const textRef = useRef();\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    if (sending) return;\r\n    const nameValue = nameRef.current.value;\r\n    const textValue = textRef.current.value;\r\n    if (!nameValue.length || !textValue) {\r\n      alert(\"Заполни оба поля, чё ты как этот...\");\r\n      return;\r\n    }\r\n    setSending(true);\r\n    const currentTime = new Date().getTime();\r\n    fetch(FIREBASE_DOMAIN + \"/\" + authCtx.key + \".json\", {\r\n      method: \"POST\",\r\n      headers: { ContentType: \"application/json\" },\r\n      body: JSON.stringify({\r\n        name: nameValue,\r\n        text: textValue,\r\n        time: currentTime\r\n      })\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error(\"Что-то пошло не так\");\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setSending(false);\r\n        wishesContext.addWish({\r\n          id: data.name,\r\n          name: nameValue,\r\n          text: textValue,\r\n          time: currentTime\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setSending(false);\r\n        alert(error.message);\r\n      });\r\n  };\r\n\r\n  const buttonClass = sending ? styles.disabled : \"\";\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={styles.formWrapper}>\r\n        <Ball />\r\n        <form onSubmit={submitHandler} className={styles.wishForm}>\r\n          <label htmlFor=\"name\">От кого </label>\r\n          <input type=\"text\" id=\"name\" ref={nameRef} />\r\n          <label htmlFor=\"wish\">Пожелание </label>\r\n          <textarea id=\"wish\" rows=\"5\" ref={textRef} />\r\n          <button type=\"submit\" className={buttonClass}>\r\n            Отправить\r\n          </button>\r\n        </form>\r\n        <Tracey />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddWish;\r\n","import styles from \"./AutoFontSize.module.css\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst AutoFontSize = (props) => {\r\n  const textRef = useRef();\r\n  const containerRef = useRef();\r\n  const [fontSize, setFontSize] = useState(28);\r\n  const [show, setShow] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const containerHeight = parseInt(\r\n      window\r\n        .getComputedStyle(ReactDOM.findDOMNode(containerRef.current))\r\n        .getPropertyValue(\"height\"),\r\n      10\r\n    );\r\n    const textHeight = parseInt(\r\n      window\r\n        .getComputedStyle(ReactDOM.findDOMNode(textRef.current))\r\n        .getPropertyValue(\"height\"),\r\n      10\r\n    );\r\n\r\n    if (textHeight > containerHeight - 20) setFontSize((state) => state - 1);\r\n    else setShow(1);\r\n  }, [fontSize]);\r\n\r\n  return (\r\n    <div className={styles.container} ref={containerRef}>\r\n      <p style={{ fontSize, opacity: show }} ref={textRef}>\r\n        {props.children}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AutoFontSize;\r\n","import AutoFontSize from \"../UI/AutoFontSize\";\r\nimport { months } from \"../../helpers/data\";\r\n\r\nimport styles from \"./Wish.module.css\";\r\n\r\nconst Wish = (props) => {\r\n  const wishDate = new Date(props.time);\r\n  const month = months[wishDate.getMonth()];\r\n  const day = wishDate.getDate();\r\n  const hours = wishDate.getHours();\r\n  const formatted_hours = hours < 10 ? \"0\" + hours : hours;\r\n  const minutes = wishDate.getMinutes();\r\n  const formatted_minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n\r\n  return (\r\n    <div className={styles.item}>\r\n      <div className={styles.inner}>\r\n        <div className={styles.front}>\r\n          <AutoFontSize>{props.text}</AutoFontSize>\r\n        </div>\r\n        <div className={styles.back} style={{ backgroundColor: props.color }}>\r\n          <p>\r\n            {props.name}\r\n            <span>\r\n              {`${day} ${month}`}\r\n              <br />\r\n              {`${formatted_hours}:${formatted_minutes}`}\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wish;\r\n","import Wish from \"./Wish\";\r\nimport styles from \"./Wishes.module.css\";\r\nimport { useContext } from \"react\";\r\nimport WishesContext from \"../../store/wishes-context\";\r\n\r\nimport { colors } from \"../../helpers/data\";\r\nimport { getRandomInt } from \"../../helpers/function\";\r\n\r\nconst Wishes = (props) => {\r\n  const wishesContext = useContext(WishesContext);\r\n\r\n  const wishes = wishesContext.wishes.map((item) => {\r\n    const color = colors[getRandomInt(3)];\r\n    return (\r\n      <div key={item.id} className={`col-xl-4 col-lg-6 col-12 ${styles.card}`}>\r\n        <Wish\r\n          name={item.name}\r\n          text={item.text}\r\n          color={color}\r\n          time={item.time}\r\n        />\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return <div className={`row ${styles.wishes}`}>{wishes}</div>;\r\n};\r\n\r\nexport default Wishes;\r\n","export function getRandomInt(max) {\r\n  return Math.floor(Math.random() * max);\r\n}\r\n","import classes from \"./LoadingSpinner.module.css\";\r\n\r\nconst LoadingSpinner = () => {\r\n  return <div className={classes.spinner}></div>;\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","import \"./Snow.css\";\r\n\r\nconst Snow = (props) => {\r\n  return (\r\n    <div className=\"snowflakes\" aria-hidden=\"true\">\r\n      <div className=\"snowflake\">❅</div>\r\n      <div className=\"snowflake\">❅</div>\r\n      <div className=\"snowflake\">❆</div>\r\n      <div className=\"snowflake\">❄</div>\r\n      <div className=\"snowflake\">❅</div>\r\n      <div className=\"snowflake\">❆</div>\r\n      <div className=\"snowflake\">❄</div>\r\n      <div className=\"snowflake\">❅</div>\r\n      <div className=\"snowflake\">❆</div>\r\n      <div className=\"snowflake\">❄</div>\r\n      <div>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Snow;\r\n","import styles from \"./Timer.module.css\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst Timer = () => {\r\n  const [time, setTime] = useState(new Date());\r\n\r\n  const newYear = new Date(\"Jan 1, 2023 00:00:00\");\r\n  const dif = newYear.getTime() - time.getTime();\r\n  const dif_month = Math.floor(dif / 2629743000);\r\n\r\n  const dif_day = Math.floor((dif % 2629743000) / 86400000);\r\n\r\n  const dif_hour = Math.floor((dif % 86400000) / 3600000);\r\n\r\n  const dif_minutes = Math.floor((dif % 3600000) / 60000);\r\n\r\n  const dif_seconds = Math.floor((dif % 60000) / 1000);\r\n\r\n  useEffect(() => {\r\n    setInterval(() => {\r\n      setTime(new Date());\r\n    }, [1000]);\r\n  }, []);\r\n\r\n  let timer_text = \"До Нового Года осталось \";\r\n\r\n  timer_text += !dif_month ? \"\" : `${dif_month} месяцев `;\r\n  timer_text += !dif_month && !dif_day ? \"\" : `${dif_day} дней `;\r\n  timer_text += !dif_month && !dif_day && !dif_hour ? \"\" : `${dif_hour} часов `;\r\n  timer_text +=\r\n    !dif_month && !dif_day && !dif_hour && !dif_minutes\r\n      ? \"\"\r\n      : `${dif_minutes} минут `;\r\n  timer_text += `${dif_seconds} секунд `;\r\n\r\n  if (dif_seconds < 0) timer_text = \"Новый Год наступил!\";\r\n\r\n  return (\r\n    <div className={styles.timer}>\r\n      <span>{timer_text}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timer;\r\n","import AddWish from \"../AddWish/AddWish\";\r\nimport Wishes from \"../Wishes/Wishes\";\r\nimport { Fragment, useState, useEffect, useContext } from \"react\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\n\r\nimport { FIREBASE_DOMAIN } from \"../../helpers/data\";\r\n\r\nimport WishesContext from \"../../store/wishes-context\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport Snow from \"../Decorations/Snow\";\r\nimport Timer from \"../Timer/Timer\";\r\n\r\nconst Main = () => {\r\n  const [error, setError] = useState(\"\");\r\n  const [sending, setSending] = useState(true);\r\n\r\n  const wishesContext = useContext(WishesContext);\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (!sending) return;\r\n\r\n    fetch(FIREBASE_DOMAIN + \"/\" + authCtx.key + \".json\")\r\n      .then((res) => {\r\n        if (!res.ok)\r\n          throw new Error(\r\n            \"Ошибка подключения, либо введён неверный пароль. Чтобы ввести его снова, обновите страницу\"\r\n          );\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        let tempWishes = [];\r\n        for (const key in data) {\r\n          const wishData = {\r\n            id: key,\r\n            ...data[key]\r\n          };\r\n          tempWishes.push(wishData);\r\n        }\r\n        setSending(false);\r\n        wishesContext.sortAndSetWishes(tempWishes);\r\n      })\r\n      .catch((error) => {\r\n        setSending(false);\r\n        setError(error.message);\r\n      });\r\n  }, [authCtx.key, wishesContext, sending, setSending, setError]);\r\n\r\n  if (sending)\r\n    return (\r\n      <div className=\"centerOfWindow\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n\r\n  if (error !== \"\")\r\n    return (\r\n      <div className=\"centerOfWindow\">\r\n        <div className=\"error\">{error}</div>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <Fragment>\r\n      <Snow />\r\n      <Timer />\r\n      <AddWish />\r\n      <Wishes />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import \"./styles.css\";\n\nimport { useContext, Fragment } from \"react\";\n\nimport AuthForm from \"./components/AuthForm/AuthForm\";\n\nimport AuthContext from \"./store/auth-context\";\nimport Main from \"./components/Main/Main\";\n\nexport default function App() {\n  const authCtx = useContext(AuthContext);\n\n  const keyEntered = authCtx.key === \"\" ? false : true;\n\n  return (\n    <Fragment>\n      {!keyEntered && <AuthForm />}\n      {keyEntered && <Main />}\n    </Fragment>\n  );\n}\n","import ReactDOM from \"react-dom\";\n\nimport { WishesContextProvider } from \"./store/wishes-context\";\nimport { AuthContextProvider } from \"./store/auth-context\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <AuthContextProvider>\n    <WishesContextProvider>\n      <App />\n    </WishesContextProvider>\n  </AuthContextProvider>,\n  rootElement\n);\n"],"sourceRoot":""}